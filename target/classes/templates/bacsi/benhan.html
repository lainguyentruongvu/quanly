<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Qu·∫£n l√Ω b·ªánh √°n</title>
  <!-- S·ª≠ d·ª•ng Bootstrap CSS t·ª´ CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css">
</head>
<style>
  body {
      font-family: 'Poppins', sans-serif;
      background-color: #f8f9fa;
  }
  .sidebar {
      width: 250px;
      min-height: 100vh;
      background: #343a40;
      padding: 20px;
      position: fixed;
      top: 0;
      left: 0;
      color: white;
  }
  .sidebar .nav-link {
      color: white;
      font-size: 16px;
      padding: 10px;
      border-radius: 5px;
      transition: all 0.3s ease-in-out;
  }
  .sidebar .nav-link:hover {
      background-color: #495057;
  }
  .content {
      margin-left: 270px;
      padding: 20px;
  }
  .hero-section {
      background: linear-gradient(135deg, #6f42c1, #007bff);
      color: white;
      padding: 40px;
      border-radius: 10px;
  }
</style>
<body>
   <!-- Sidebar -->
   <div th:replace="~{bacsi/menu :: menu}"></div>

   <!-- Main Content -->
   <div class="content">
       <div class="hero-section">
           <h2 class="text-center">üë®‚Äç‚öïÔ∏è Nh√¢n Vi√™n Y T·∫ø - Tr√°ch Nhi·ªám & S·ª© M·ªánh</h2>
           <p class="mt-3">
               Nh√¢n vi√™n y t·∫ø ƒë√≥ng vai tr√≤ quan tr·ªçng trong h·ªá th·ªëng chƒÉm s√≥c s·ª©c kh·ªèe, ƒë·∫∑c bi·ªát l√† vi·ªác qu·∫£n l√Ω thu·ªëc. 
               H·ªç kh√¥ng ch·ªâ ƒë·∫£m b·∫£o thu·ªëc ƒë∆∞·ª£c nh·∫≠p ƒë√∫ng quy tr√¨nh m√† c√≤n theo d√µi ch·∫•t l∆∞·ª£ng v√† s·ªë l∆∞·ª£ng thu·ªëc trong kho.
           </p>
           <p>
               üîπ **Qu·∫£n l√Ω nh·∫≠p thu·ªëc:** Ki·ªÉm tra v√† ghi nh·∫≠n s·ªë l∆∞·ª£ng thu·ªëc m·ªõi nh·∫≠p.  
               üîπ **Theo d√µi kho thu·ªëc:** C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng thu·ªëc c√≤n trong kho theo th·ªùi gian th·ª±c.  
               üîπ **T∆∞ v·∫•n & h·ªó tr·ª£:** H·ªó tr·ª£ b√°c sƒ© v√† b·ªánh nh√¢n v·ªÅ vi·ªác s·ª≠ d·ª•ng thu·ªëc an to√†n.  
           </p>
       </div>

       <div class="mt-4">
           <h4>üìã C√°c Ch·ª©c NƒÉng Ch√≠nh</h4>
           <div class="container my-4">
            <div th:include="~{bacsi/tab :: tab}"></div>

            <h2 class="text-center mb-4">Danh s√°ch l·ªãch kh√°m ch∆∞a th√™m c√≥ b·ªánh √°n</h2>
            
            <!-- Hi·ªÉn th·ªã th√¥ng b√°o n·∫øu c√≥ -->
            <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>
            <div th:if="${successMessage}" class="alert alert-success" th:text="${successMessage}"></div>
            
            <div class="table-responsive">
              <table class="table table-bordered table-hover align-middle">
                <thead class="table-light">
                  <tr class="text-center">
                    <th>M√£ l·ªãch kh√°m</th>
                    <th>M√£ b·ªánh nh√¢n</th>
                    <th>M√£ b√°c sƒ©</th>
                    <th>Ng√†y kh√°m</th>
                    <th>Tr·∫°ng th√°i</th>
                    <th>Ghi ch√∫</th>
                    <th>H√†nh ƒë·ªông</th>
                  </tr>
                </thead>
                <tbody>
                  <tr th:each="lich : ${dslichKham}">
                    <td class="text-center" th:text="${lich.maLichKham}">1</td>
                    <td th:text="${lich.benhNhan.maBenhNhan}">B001</td>
                    <td th:text="${lich.bacSi.maBacSi}">BS001</td>
                    <td class="text-center" th:text="${#temporals.format(lich.ngayKham, 'dd/MM/yyyy')}">01/01/2025</td>
                    <td class="text-center" th:text="${lich.trangThai}">Ch·ªù x√°c nh·∫≠n</td>
                    <td th:text="${lich.ghiChu}">‚Äì</td>
                    <!-- G·ªôp timer + link v√†o 1 √¥ -->
                    <td class="text-center">
                      <div class="input-group input-group-sm w-auto d-inline-flex align-items-center">
                        <span class="input-group-text py-1 px-2">‚è≥ <span id="timer">15:00</span></span>
                        <a th:href="@{/bacsi/trangchu/benhan/add/{maLichKham}(maLichKham=${lich.maLichKham})}"
                           class="btn btn-sm btn-primary ms-1 add-btn">Th√™m b·ªánh √°n</a>
                      </div>
                    </td>
                  </tr>
                </tbody>
                
              </table>
            </div>



          </div>
       </div>
   </div>
<!-- ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c -->
<!-- <div class="d-flex justify-content-end mb-2">
  <div class="input-group input-group-sm w-auto align-items-center">
    <span class="input-group-text py-1 px-2">‚è≥ <span id="timer">15:00</span></span>
    <button id="updateButton" class="btn btn-sm btn-danger py-1 px-2">C·∫≠p nh·∫≠t</button>
  </div>
</div> -->




  <!-- Bootstrap JS Bundle (v·ªõi Popper) -->
  <script>
    let duration = 15 * 60;
    const timerDisplay = document.getElementById("timer");
    const addBtns = document.querySelectorAll(".add-btn");
  
    const countdown = setInterval(() => {
      let m = String(Math.floor(duration/60)).padStart(2,'0'),
          s = String(duration%60).padStart(2,'0');
      timerDisplay.textContent = `${m}:${s}`;
      duration--;
      if (duration < 0) {
        clearInterval(countdown);
        timerDisplay.textContent = "00:00";
        addBtns.forEach(btn => {
          btn.classList.add("disabled");
          btn.removeAttribute("href");
          btn.textContent = "‚õî H·∫øt th·ªùi gian";
        });
      }
    }, 1000);
  </script>
  
  
</body>
</html>
